# 项目精简后的结构说明

## 精简完成 ✅

### 删除的重复内容：
- ❌ `fastapi/` 目录 (已备份到 `backup/fastapi_backup/`)
- ❌ 根目录的 `main.py` (已备份到 `backup/main_backup.py`)

### 保留的完整版本：
- ✅ `backend/Fastapi/` - 包含完整功能的FastAPI后端
- ✅ 所有Azure OpenAI和Cosmos DB集成
- ✅ 完整的评估逻辑和LLM建议功能

## 当前项目结构

```
team/
├── app/                    # Next.js 前端应用
├── backend/
│   └── Fastapi/          # 完整的FastAPI后端 (推荐使用)
│       ├── main.py       # 主应用文件
│       ├── main_safe.py  # 安全版本 (无需Azure凭据)
│       ├── api/          # API模块
│       ├── requirements.txt
│       └── .env          # 环境变量配置
├── components/            # React 组件
├── contexts/             # React Context
├── lib/                  # 工具函数
├── backup/               # 备份文件
│   ├── fastapi_backup/   # 原fastapi目录备份
│   └── main_backup.py    # 原main.py备份
└── ...其他前端文件
```

## 启动指南

### 前端启动
```bash
# 在项目根目录
npm run dev
# 访问: http://localhost:3000
```

### 后端启动
```bash
# 进入后端目录
cd backend/Fastapi

# 方式1: 使用完整版本 (需要Azure凭据)
uvicorn main:app --reload --host 127.0.0.1 --port 8000

# 方式2: 使用安全版本 (无需Azure凭据)
python main_safe.py

# 访问: http://127.0.0.1:8000
# API文档: http://127.0.0.1:8000/docs
```

## 环境变量配置

在 `backend/Fastapi/.env` 文件中配置：

```env
# Azure OpenAI 配置
AZURE_OPENAI_API_KEY=your_actual_api_key_here
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT=your-deployment-name

# Azure Cosmos DB 配置
COSMOS_ENDPOINT=https://your-cosmos-account.documents.azure.com:443/
COSMOS_KEY=your_actual_cosmos_key_here
```

## 优势

1. **代码统一**: 只有一个后端实现，避免维护多个版本
2. **功能完整**: 保留所有Azure集成和LLM功能
3. **结构清晰**: 前后端分离，目录结构明确
4. **易于维护**: 减少重复代码，降低维护成本

## 如果需要恢复

所有删除的文件都已备份在 `backup/` 目录中，可以随时恢复。 